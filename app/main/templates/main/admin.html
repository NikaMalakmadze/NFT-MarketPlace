{% extends 'base.html' %} {% block pageTitle %}Admin{% endblock pageTitle %} {%
block head %}
<link
  rel="stylesheet"
  href="{{ url_for('main.static', filename='main/css/admin.min.css') }}"
/>
<script
  src="{{ url_for('main.static', filename='main/js/admin.min.js') }}"
  type="module"
></script>
<link
  href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css"
  rel="stylesheet"
/>
<script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
{% endblock head %} {% block content %}
<div class="admin-layout">
  <!-- Sidebar Navigation -->
  <aside class="sidebar">
    <nav class="sidebar__nav">
      <a
        href="#"
        class="sidebar__item sidebar__item--active"
        data-page="dashboard"
      >
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <rect x="3" y="3" width="7" height="9"></rect>
          <rect x="14" y="3" width="7" height="5"></rect>
          <rect x="14" y="12" width="7" height="9"></rect>
          <rect x="3" y="16" width="7" height="5"></rect>
        </svg>
        <span>Dashboard</span>
      </a>
      <a href="#" class="sidebar__item" data-page="users">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path
            d="m22 21-3-3m2.5 1.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"
          ></path>
        </svg>
        <span>Users</span>
      </a>
      <a href="#" class="sidebar__item" data-page="nfts">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <rect x="3" y="3" width="18" height="18" rx="2"></rect>
          <circle cx="9" cy="9" r="2"></circle>
          <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path>
        </svg>
        <span>NFTs</span>
      </a>
      <a href="#" class="sidebar__item" data-page="collections">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M20 7h-9"></path>
          <path d="M14 17H5"></path>
          <circle cx="17" cy="17" r="3"></circle>
          <circle cx="7" cy="7" r="3"></circle>
        </svg>
        <span>Collections</span>
      </a>
      <a href="#" class="sidebar__item" data-page="categories">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M12 2v6.5l3 1.5-3 1.5V18"></path>
          <path d="M6 12c0-1 0-2 2-2s2 1 2 2-0 2-2 2-2-1-2-2"></path>
          <path d="M14 12c0-1 0-2 2-2s2 1 2 2-0 2-2 2-2-1-2-2"></path>
        </svg>
        <span>Categories</span>
      </a>
      <a href="#" class="sidebar__item" data-page="offers">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M12 2v20m-7-9h14"></path>
        </svg>
        <span>Offers</span>
      </a>
      <a href="#" class="sidebar__item" data-page="analytics">
        <svg
          class="sidebar__icon"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
          <path d="M21 3v5h-5"></path>
          <path
            d="M21 16a9 9 0 0 1-9 9c-3.74 0-6.74-2.74-6.74-6.74L3 16"
          ></path>
          <path d="M8 16H3v5"></path>
        </svg>
        <span>Likes & Views</span>
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Dashboard Page -->
    <div class="page" id="dashboard" style="display: block">
      <div class="page-header">
        <h1 class="page-title">Dashboard</h1>
        <p class="page-subtitle">Welcome to ByteCraft Admin Dashboard</p>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-card__icon">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
            </svg>
          </div>
          <div class="stat-card__content">
            <h3 class="stat-card__value">{{ total_users }}</h3>
            <p class="stat-card__label">Total Users</p>
            <span class="stat-card__change stat-card__change--positive"
              >+12.5%</span
            >
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-card__icon">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="3" y="3" width="18" height="18" rx="2"></rect>
              <circle cx="9" cy="9" r="2"></circle>
            </svg>
          </div>
          <div class="stat-card__content">
            <h3 class="stat-card__value">{{ total_nfts }}</h3>
            <p class="stat-card__label">Total NFTs</p>
            <span class="stat-card__change stat-card__change--positive"
              >+8.2%</span
            >
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-card__icon">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M20 7h-9"></path>
              <path d="M14 17H5"></path>
              <circle cx="17" cy="17" r="3"></circle>
            </svg>
          </div>
          <div class="stat-card__content">
            <h3 class="stat-card__value">{{ total_collections }}</h3>
            <p class="stat-card__label">Collections</p>
            <span class="stat-card__change stat-card__change--positive"
              >+5.7%</span
            >
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-card__icon">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 2v20m-7-9h14"></path>
            </svg>
          </div>
          <div class="stat-card__content">
            <h3 class="stat-card__value">{{ active_offers }}</h3>
            <p class="stat-card__label">Active Offers</p>
            <span class="stat-card__change stat-card__change--negative"
              >-2.1%</span
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Users Page -->
    <div class="page" id="users" style="display: none">
      <div class="page-header">
        <h1 class="page-title">Users Management</h1>
      </div>

      <div class="grid-container">
        <div id="usersGrid"></div>
      </div>
    </div>

    <!-- NFTs Page -->
    <div class="page" id="nfts" style="display: none">
      <div class="page-header">
        <h1 class="page-title">NFTs Management</h1>
      </div>

      <div class="grid-container">
        <div id="nftsGrid"></div>
      </div>
    </div>

    <!-- Collections Page -->
    <div class="page" id="collections" style="display: none">
      <div class="page-header">
        <h1 class="page-title">Collections Management</h1>
      </div>

      <div class="grid-container">
        <div id="collectionsGrid"></div>
      </div>
    </div>

    <!-- Categories Page -->
    <div class="page" id="categories" style="display: none">
      <div class="page-header">
        <h1 class="page-title">Categories Management</h1>
        <div class="page-actions">
          <button class="btn btn--primary" id="addCategoryBtn">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Add Category
          </button>
        </div>
      </div>

      <div class="categories-grid" id="categoriesGrid">
        <!-- Categories will be populated here -->
      </div>
    </div>

    <!-- Offers Page -->
    <div class="page" id="offers" style="display: none">
      <div class="page-header">
        <h1 class="page-title">Offers Management</h1>
        <div class="page-actions">
          <div class="filter-tabs">
            <button class="filter-tab filter-tab--active" data-filter="all">
              All
            </button>
            <button class="filter-tab" data-filter="active">Active</button>
            <button class="filter-tab" data-filter="expired">Expired</button>
            <button class="filter-tab" data-filter="accepted">Accepted</button>
            <button class="filter-tab" data-filter="cancelled">
              Cancelled
            </button>
          </div>
        </div>
      </div>

      <div class="grid-container">
        <div id="offersGrid"></div>
      </div>
    </div>

    <!-- Analytics (Likes & Views) Page -->
    <div class="page" id="analytics" style="display: none">
      <div class="page-header">
        <h1 class="page-title">Likes & Views Analytics</h1>
        <div class="page-actions">
          <div class="filter-tabs">
            <button class="filter-tab filter-tab--active" data-filter="all">
              All
            </button>
            <button class="filter-tab" data-filter="like">Likes</button>
            <button class="filter-tab" data-filter="view">Views</button>
          </div>
        </div>
      </div>

      <div class="grid-container">
        <div id="analyticsGrid"></div>
      </div>
    </div>
  </main>
</div>

<!-- Modal for User NFTs -->
<div class="modal" id="userNftsModal">
  <div class="modal__backdrop"></div>
  <div class="modal__content">
    <div class="modal__header">
      <h3 class="modal__title">User NFTs</h3>
      <button class="modal__close" id="closeUserNftsModal">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="modal__body" id="userNftsContent">
      <!-- User NFTs will be populated here -->
    </div>
  </div>
</div>

<!-- Modal for Category Form -->
<div class="modal" id="categoryModal">
  <div class="modal__backdrop"></div>
  <div class="modal__content">
    <div class="modal__header">
      <h3 class="modal__title" id="categoryModalTitle">Add Category</h3>
      <button class="modal__close" id="closeCategoryModal">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="modal__body">
      <form class="form" id="categoryForm">
        <div class="form-group">
          <label class="form-label" for="categoryName">Category Name</label>
          <input type="text" class="form-input" id="categoryName" required />
        </div>
        <div class="form-group">
          <label class="form-label" for="categoryLogo">Logo URL</label>
          <input
            type="url"
            class="form-input"
            id="categoryLogo"
            placeholder="https://example.com/logo.png"
            required
          />
        </div>
        <input type="hidden" id="categoryIdInput" />
        <div class="form-actions">
          <button type="button" class="btn btn--secondary" id="cancelCategory">
            Cancel
          </button>
          <button type="submit" class="btn btn--primary" id="saveCategory">
            Save Category
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Confirmation Modal -->
<div class="modal" id="confirmModal">
  <div class="modal__backdrop"></div>
  <div class="modal__content modal__content--small">
    <div class="modal__header">
      <h3 class="modal__title" id="confirmModalTitle">Confirm Action</h3>
      <button class="modal__close" id="closeConfirmModal">
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="modal__body">
      <p id="confirmModalMessage">
        Are you sure you want to perform this action?
      </p>
      <div class="form-actions">
        <button type="button" class="btn btn--secondary" id="cancelConfirm">
          Cancel
        </button>
        <button type="button" class="btn btn--danger" id="confirmAction">
          Confirm
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
