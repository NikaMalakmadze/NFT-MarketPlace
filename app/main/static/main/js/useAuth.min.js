async function fetchWithAuth(a,r={}){return(async e=>{e={...r.headers??{},Authorization:"Bearer "+e},e=await fetch(a,{...r,headers:e});if(401===e.status&&!r._retry){var t=await fetch("/jwt/refresh",{method:"POST",credentials:"include"});if(t.ok)return t=await t.json(),localStorage.setItem("access_token",t.access_token),fetchWithAuth(a,{...r,_retry:!0});localStorage.removeItem("access_token")}return e})(localStorage.getItem("access_token"))}export{fetchWithAuth};
//# sourceMappingURL=useAuth.min.js.map
